	p68h11
	public	btasci
****************************************************************************************************************
* 		Binary to ASCII
* Transforma un numero en bcd a binario
* Parametros recibidos:  Inicio de número Binary por IX e Inicio de mdis por IY
* Parametros entregados: 
****************************************************************************************************************
	rseg	CODE
btasci	equ	*
 	psha
	pshb
	pshx
	pshy		;programación defensiva
	
	ldaa	0,x	
	lsla
	bcc	posit
	ldab	#$2D	;cargo el sibolo negativo -
	stab	0,y
	iny
	ldx	#3	;cantidad de numeros a convertir
	pshx
	ldd	0,x
	coma
	comb
	addd	#1
	bra 	cargo

posit	ldx	#4	;cantidad de numeros a convertir
	pshx
	ldd	0,x
cargo	ldx	#10
	idiv
	xgdx
	addb	#30	;corrección de número decimal a ASCII		
	stab	0,y
	iny
	xgdx
	pulx
	dex
	bne	cargo
	
	puly	;programación defensiva
	pulx
	pula	
	pulb
	rts

	END
